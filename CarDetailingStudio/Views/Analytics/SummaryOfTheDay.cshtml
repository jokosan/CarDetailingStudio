@model CarDetailingStudio.Models.AnalyticsView.AnalyticsFull
<style>
    .collapse-row.collapsed + tr {
        display: none;
    }
</style>

<link href="~/Content/StyleAnalytics.css" rel="stylesheet" />

<div class="row">
    @* ----------------------Heading----------------------------- *@
    <div class="col-md-8 offset-md-2">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="pull-left">
                            <div class="pull-left">
                                <address>
                                    <h4> &nbsp;<b class="text-danger">Отчет за  @ViewBag.StartDate</b></h4>
                                    <p class="text-muted m-l-5">
                                        Детейлинг студия "Motor Clean"
                                        <br /> вулиця Велика Кільцева, 97
                                        <br /> Харків - 61000
                                        <br /> +380988283456
                                    </p>
                                </address>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="pull-right m-t-30 text-right">
                            <h4> &nbsp;<b class="text-danger">Касса начало дня: @Html.DisplayFor(model => model.cashStartOfTheDay) грн.</b></h4>
                            <button class="btn btn-outline-dark mt-5" data-toggle="modal" data-target="#analitica">Выбрать</button>
                        </div>
                    </div>

                    @* ---------------------Доход/Расход-------------------- *@

                    <h6 class="text-center"> &nbsp;<b class="text-danger">Доход/Расход: </b></h6>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Отчет по сервисам</th>
                                <th class="text-center">Отчеты</th>
                                <th class="text-center">Наличные</th>
                                <th class="text-right">Безналичные</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-toggle="collapse" data-target="#accordion1" class="clickable collapse-row collapsed">
                                <td><b class="text-success">Все посупления</b></td>
                                <td class="text-center">
                                    <b title="Сумма только оплаченных заказов @Model.analyticsViewResult.incomeViews.Sum(s => s.SumOfIncome) грн." class="text-success">+ @Model.SumTotal грн. </b> <br />
                                </td>
                                <td class="text-center">
                                    <b class="text-success">
                                        + @Model.analyticsViewResult.incomeViews.Sum(s => s.SumCash) грн.
                                    </b>
                                </td>
                                <td class="text-right">
                                    <b class="text-success">
                                        + @Model.analyticsViewResult.incomeViews.Sum(s => s.SumNoCash) грн.
                                    </b>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="6">
                                    <table id="accordion1" class="table table-striped collapse ">
                                        <thead>
                                            <tr>
                                                <th>Наименования</th>
                                                <th class="text-center">Количество авто</th>
                                                <th class="text-center">Отчеты</th>
                                                <th class="text-center">Наличные</th>
                                                <th class="text-center">Безналичные</th>
                                                <th class="text-right">Неоплаченные</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.analyticsViewResult.incomeViews)
                                            {
                                                if (item.SumOfIncome != 0 || item.SumTotalIncome != 0)
                                                {
                                                    <tr>
                                                        <td class="text-left">@item.ServicesOfInvome </td>
                                                        <td class="text-center">@item.CountServices </td>
                                                        <td class="text-center">
                                                            @if (item.SumTotalIncome != 0)
                                                            {
                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = item.IdIncome, paymentState = 0, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                    <span title="Сумма только оплаченных заказов @item.SumOfIncome грн.">@item.SumTotalIncome грн.</span>
                                                                </a>
                                                            }
                                                            else
                                                            {
                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = item.IdIncome, paymentState = 0, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                    <span title="Сумма только оплаченных заказов">@item.SumOfIncome грн.</span>
                                                                </a>
                                                            }
                                                        </td>

                                                        <td class="text-center">
                                                            @if (item.IdIncome != 0)
                                                            {
                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = item.IdIncome, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                    @item.SumCash грн.
                                                                </a>
                                                            }
                                                            else
                                                            {
                                                                <a class="link" href=@Url.Action("../Analytics/GoodsSoldInfo", new { paymentState = 1, dateStart = @ViewBag.DateWhereStart})>
                                                                    @item.SumCash грн.
                                                                </a>
                                                            }

                                                        </td>
                                                        <td class="text-center">
                                                            @if (item.IdIncome != 0)
                                                            {
                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = item.IdIncome, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                    @item.SumCash грн.
                                                                </a>
                                                            }
                                                            else
                                                            {
                                                                <a class="link" href=@Url.Action("../Analytics/GoodsSoldInfo", new { paymentState = 2, dateStart = @ViewBag.DateWhereStart })>
                                                                    @item.SumNoCash грн.
                                                                </a>
                                                            }

                                                            <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = item.IdIncome, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                @item.SumNoCash грн.
                                                            </a>
                                                        </td>
                                                        <td class="text-right">
                                                            <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = item.IdIncome,  paymentState = 0, statusOrder = 4, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                @item.AwaitingPayment грн.
                                                            </a>
                                                        </td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </td>
                            </tr>

                            @* ------------------------Оплата за прошлый период-------------------------- *@
                            <tr data-toggle="collapse" data-target="#accordion2" class="clickable collapse-row collapsed">
                                <td><b class="text-success">Оплата за прошлый период</b></td>
                                <td title="+ @Model.PaymentOfArrearsTotal грн.">
                                    ---

                                    @*<b class="text-success">+ @Model.PaymentOfArrearsTotal грн. </b>*@
                                </td>
                                <td class="text-center">
                                    <b class="text-success">
                                        + @Model.PaymentOfArrearsCash  грн.
                                    </b>
                                </td>
                                <td class="text-right">
                                    <b class="text-success">
                                        +  @Model.PaymentOfArrearsNoCash   грн.
                                    </b>
                                </td>
                            </tr>
                            <tr>
                                @* -------------accordion2-------------- *@
                                <td colspan="6">
                                    <table id="accordion2" class="table table-striped collapse ">
                                        <thead>
                                            <tr>
                                                <th>Наименования</th>
                                                <th class="text-center">Количество авто</th>
                                                <th class="text-center">Отчеты</th>
                                                <th class="text-center">Наличные</th>
                                                <th class="text-center">Безналичные</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.analyticsViewResult.paymentofArrears)
                                            {
                                                if (item.SumOfIncome != 0)
                                                {
                                                    <tr>
                                                        <td class="text-left">@item.ServicesOfInvome </td>
                                                        <td class="text-center">@item.CountServices </td>
                                                        <td class="text-center">
                                                            <a class="link" href=@Url.Action("../Analytics/ServiceDebt", new { typeOrder = item.IdIncome, start = @ViewBag.DateWhereStart })>
                                                                @item.SumOfIncome грн.
                                                            </a>
                                                        </td>
                                                        <td class="text-center">
                                                            @item.SumCash грн.
                                                        </td>
                                                        <td class="text-center">
                                                            @item.SumNoCash грн.
                                                        </td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </td>
                            </tr>

                            @* Сумма всех расходов *@

                            <tr data-toggle="collapse" data-target="#accordion2" class="clickable collapse-row collapsed">
                                <td><b class="text-danger">Сумма всех расходов</b></td>
                                <td class="text-center">
                                    <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = 0, paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                        <b class="text-danger">-   @Model.analyticsViewResult.expensesClassModels.Sum(s => s.Amount) грн.  </b>
                                    </a>
                                </td>
                                <td class="text-center">
                                    <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = 0, paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                        <b class="text-danger">-  @Model.analyticsViewCash.expensesClassModels.Sum(s => s.Amount) грн.</b>
                                    </a>
                                </td>
                                <td class="text-right">
                                    <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = 0, paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                        <b class="text-danger">-  @Model.analyticsViewNoCash.expensesClassModels.Sum(s => s.Amount) грн. </b>
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <table id="accordion2" class="table table-striped collapse ">
                                        <thead>
                                            <tr>
                                                <th>Наименования</th>
                                                <th class="text-right">Отчеты</th>
                                                <th class="text-right">Наличные</th>
                                                <th class="text-right">Безналичные</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.analyticsViewResult.expensesClassModels)
                                            {
                                                <tr>
                                                    <td>@item.expenseCategoryName</td>
                                                    <td class="text-right">
                                                        @if (item.expenseCategoryId == 1)
                                                        {
                                                            <a class="link"
                                                               title="Ощая сумма @item.Amount грн."
                                                               href=@Url.Action("../Analytics/GroupDetailsWages", new { dateStart = @ViewBag.DateWhereStart })>
                                                                @Model.analyticsViewResult.wagesForCompletedOrders.TotalSumWages грн.
                                                            </a>
                                                        }
                                                        else
                                                        {
                                                            <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new { typeExpenses = item.expenseCategoryId, paymentState = 0, dateStart = @ViewBag.DateWhereStart })>
                                                                @item.Amount грн.
                                                            </a>
                                                        }
                                                        <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = item.expenseCategoryId, paymentState = 0, dateStart = @ViewBag.DateWhereStart })>
                                                            @item.Amount грн.
                                                        </a>
                                                    </td>
                                                    <td class="text-right">
                                                        @foreach (var itemCash in Model.analyticsViewCash.expensesClassModels)
                                                        {
                                                            if (item.expenseCategoryId == itemCash.expenseCategoryId)
                                                            {

                                                                <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new { typeExpenses = item.expenseCategoryId, paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                    @itemCash.Amount грн.
                                                                </a>

                                                                break;
                                                            }

                                                        }
                                                    </td>
                                                    <td class="text-right">
                                                        @foreach (var itemNoCash in Model.analyticsViewNoCash.expensesClassModels)
                                                        {
                                                            if (item.expenseCategoryId == itemNoCash.expenseCategoryId)
                                                            {

                                                                <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new { typeExpenses = item.expenseCategoryId, paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                    @itemNoCash.Amount грн.
                                                                </a>

                                                                break;
                                                            }
                                                        }
                                                    </td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    @*     Заработная плата:   *@
                    <h6 class="text-center"> &nbsp;<b class="text-danger">Заработная плата: </b></h6>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Отчет по сервисам</th>
                                <th class="text-right">Отчеты</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-toggle="collapse" data-target="#accordion4" class="clickable  collapse-row collapsed">
                                <td>Сумма заработной платы всех сотрудников</td>
                                <td class="text-right">
                                    @Model.analyticsViewResult.wagesForCompletedOrders.TotalSumWages грн.
                                </td>
                            </tr>
                            <tr>
                                <td colspan="6">
                                    <table id="accordion4" class="table table-striped collapse ">
                                        <thead>
                                            <tr>
                                                <th class="text-center">#</th>
                                                <th>Наименования</th>
                                                <th class="text-right">Отчеты</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td colspan="6" class="text-center"><b class="text-danger"><b /> Мойка</td>
                                            </tr>
                                            <tr data-toggle="collapse" data-target="#demo1" class="accordion-toggle">
                                                <td class="text-center">9</td>
                                                <td><b>ЗП администратора (авто + ковры)</b></td>
                                                <td class="text-right"><b>  @Html.DisplayFor(model => model.SumWegesAdministrator) грн. </b></td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">9-1</td>
                                                <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП администратора мойки</a></td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Washing.SalaryAdministrator) грн. </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">9-2</td>
                                                <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 3, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП администратора за услугу ковры</a></td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.CarpetWashing.SalaryAdministrator) грн. </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#demo2" class="accordion-toggle">
                                                <td class="text-center">10</td>
                                                <td><b>ЗП автомойщиков (авто + ковры)</b></td>
                                                <td class="text-right"> <b> @Html.DisplayFor(model => model.SumWegesEmployees) грн. </b></td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">10-1</td>
                                                <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 5, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП сотрудника мойки</a></td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Washing.SalaryEmployees) грн. </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">10-2</td>
                                                <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 6, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП сотрудника за услугу ковры </a></td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.CarpetWashing.SalaryEmployees) грн. </td>
                                            </tr>
                                            <tr>
                                                <td colspan="6" class="text-center"><b class="text-danger"><b /> Детейлинг</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">5</td>
                                                <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП администратора детейлинга</a></td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Detailing.SalaryAdministrator) грн. </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">6</td>
                                                <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП детейлинга</a></td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Detailing.SalaryEmployees) грн. </td>
                                            </tr>
                                            <tr>
                                                <td colspan="6" class="text-center"><b class="text-danger"><b /> Хранение шин</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">7</td>
                                                <td>
                                                    <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                        ЗП администратора
                                                    </a>
                                                </td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireStorage.SalaryAdministrator) грн. </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">8</td>
                                                <td>
                                                    <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                        ЗП Сотрудников
                                                    </a>
                                                </td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireStorage.SalaryEmployees) грн. </td>
                                            </tr>
                                            <tr>
                                                <td colspan="6" class="text-center"><b class="text-danger">Шиномантаж<b /> </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">5</td>
                                                <td>
                                                    <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 9, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                        ЗП администратора
                                                    </a>
                                                </td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireFitting.SalaryAdministrator) грн. </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">6</td>
                                                <td>
                                                    <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 10, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                        ЗП Сотрудников
                                                    </a>
                                                </td>
                                                <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireFitting.SalaryEmployees) грн. </td>
                                            </tr>
                                            <tr>
                                                <td colspan="6" class="text-center"><b class="text-danger">Дополнительно к заработной плате<b /> </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">1</td>
                                                <td>Премия</td>
                                                <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.SumBonusTOSalary) шт.</td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">2</td>
                                                <td>Ставка за день</td>
                                                <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.SumEmployeeRate)  грн. </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        @using (Html.BeginForm("SummaryOfTheDay", "Analytics", FormMethod.Post))
        {
            <div class="card">
                <div class="card-body">
                    <h4> &nbsp;<b class="text-danger">Итого: </b></h4>
                    <table class="table">
                        <tbody>
                            <tr>
                                <th class="text-left">Отчеты</th>
                                <th class="text-center">Наличные</th>
                                <th class="text-right">Безналичные</th>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr>
                                <td class="text-left"><b title="Сумма всех доходов - сумма всех расходов">@Html.DisplayFor(model => model.CashEndDay) грн.</b></td>
                                <td class="text-center"><b title="Сумма наличных доходов - сумма наличных расходов + касса дня + Оплата за прошлый период (Наличные)">@Html.DisplayFor(model => model.CashEndDayCash) грн.</b></td>
                                <td class="text-right"><b title="Сумма безналичных доходов - сумма безналичных расходов">@Html.DisplayFor(model => model.CashEndDayNoCash) грн.</b></td>
                            </tr>
                            @if (@ViewBag.CloseDay == true)
                            {
                                if (@ViewBag.Message = false)
                                {
                                    <tr>
                                        <td colspan="3" class="text-center"><b class="text-danger">* * *</b></td>
                                    </tr>
                                    <tr>
                                        <td class="text-center">1</td>
                                        <td>Сформировать кассу наличных на @ViewBag.Date </td>
                                        <td>
                                            <input type="number" name="amountStartDay" id="quantity" class="form-control" aria-label="Recipient's username" aria-describedby="basic-addon2" style="text-align: right">

                                        </td>
                                    </tr>
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="3" class="text-center"><b class="text-danger">* * *</b></td>
                                    </tr>
                                    <tr>
                                        <td class="text-center">1</td>
                                        <td>Сформировать кассу наличных на @ViewBag.Date </td>
                                        <td>
                                            <input type="number" name="amountStartDay" id="quantity" class="is-invalid form-control" placeholder="Обязательное поле для заполнения" aria-label="Recipient's username" aria-describedby="basic-addon2" style="text-align: right">

                                        </td>
                                    </tr>
                                }
                            }

                        </tbody>
                    </table>


                    <div class="col-md-12">
                        <div class="clearfix"></div>
                        <hr>
                        <div class="pull-right m-t-30 text-right">


                            @if (@ViewBag.CloseDay == true)
                            {
                                <h3><b>Наличные остаток:</b>  @Model.CashEndDayCash грн.</h3>
                                <h3><b>Отправить на счет фирмы:</b>  <span name="FinalDay" id="FinalDay"> 0</span> грн.</h3>
                                <input type="hidden" id="amountFinalDay" value=@Html.DisplayFor(model => model.CashEndDayCash) name="amountFinalDay" />
                                <h3><b>Касса наличных на @ViewBag.Date:</b><span name="errmsg" id="errmsg"> 0</span> грн.</h3>
                                <input type="hidden" id="sumOrder" value="" name="sum" />
                                <hr>
                                <input class="btn btn-outline-secondary" type="submit" value="Закрыть день" id="click" onclick="this.disabled=true; this.value='Отправка, подождите ...'; this.form.submit();" />
                                <hr>
                            }
                        </div>
                    </div>
                </div>

            </div>
        }
    </div>
</div>

@* ----------------------model----------------------------- *@
<div class="modal fade" id="analitica" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="background-img">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">

                    @using (Html.BeginForm("SummaryOfTheDay", "Analytics", FormMethod.Post))
                    {
                        <div class="row">
                            <div class="card card-body printableArea">
                                <div class="row">

                                    <div class="col-md-12">

                                        <div class="pull-left">
                                            <div class="pull-left">
                                                <address>
                                                    <h3> &nbsp;<b class="text-danger">Отчет за текущий день</b></h3>
                                                    <p class="text-muted m-l-5">
                                                        Детейлинг студия "Motor Clean"
                                                        <br /> вулиця Велика Кільцева, 97
                                                        <br /> Харків - 61000
                                                        <br /> +380988283456
                                                    </p>
                                                </address>
                                            </div>
                                            <div class="pull-right text-right">
                                                <address>
                                                    <p class="m-t-30"><b>Invoice Date :</b> <i class="fa fa-calendar"></i> @ViewBag.StartDate</p>
                                                </address>
                                            </div>
                                        </div>

                                        <div class="card">

                                            <!-- Tab panes -->
                                            <div class="tab-content tabcontent-border">
                                                <div class="tab-pane active" id="home" role="tabpanel">
                                                    <div class="p-20">

                                                        <div class="col-md-12">
                                                            <div class="table-responsive m-t-40" style="clear: both;">
                                                                <table class="table table-hover">
                                                                    <thead>
                                                                        <tr>
                                                                            <th class="text-center">#</th>
                                                                            <th>Наименования</th>
                                                                            <th class="text-right">Отчеты</th>
                                                                            <th class="text-right">Наличные</th>
                                                                            <th class="text-right">Безналичные</th>
                                                                            <th class="text-right">Неоплаченные</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>

                                                                        @* ----------------------------------------------------------------------------------- *@
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Мойка</b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Количество Авто</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Washing.SumQuantitiesAndOrdersAwaitingPaymentQuantites) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewCash.completedOrders.Washing.Quantities) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.Washing.Quantities) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Washing.OrdersAwaitingPaymentQuantites) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Касса мойки</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 0, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Washing.SumCashierAndOrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.completedOrders.Washing.Cashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.Washing.Cashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2,  paymentState = 0, statusOrder = 4, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Washing.OrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">3</td>
                                                                            <td class="text-success">Заказы за предыдущий период (количество мойка)</td>
                                                                            <td class="text-right text-success">
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                @Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.Washing.OrderCount) шт.
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                @Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.Washing.OrderCount) шт.
                                                                            </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">4</td>
                                                                            <td class="text-success">Заказы за предыдущий период (касса мойка)</td>
                                                                            <td class="text-right ">
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.Washing.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.Washing.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">5</td>
                                                                            <td>Количество ковров</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.CarpetWashing.SumQuantitiesAndOrdersAwaitingPaymentQuantites) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewCash.completedOrders.CarpetWashing.Quantities) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.CarpetWashing.Quantities) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.CarpetWashing.OrdersAwaitingPaymentQuantites)шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">6</td>
                                                                            <td>Касса ковров</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 3, paymentState = 0, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.CarpetWashing.SumCashierAndOrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 3, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.completedOrders.CarpetWashing.Cashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 3, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.CarpetWashing.Cashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 3, paymentState = 0, statusOrder = 4, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.CarpetWashing.OrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">7</td>
                                                                            <td class="text-success">Заказы за предыдущий период (количество ковры)</td>
                                                                            <td class="text-right text-success">
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                @Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.CarpetWashing.OrderCount) шт.
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                @Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.CarpetWashing.OrderCount) шт.
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">8</td>
                                                                            <td class="text-success">Заказы за предыдущий период (касса ковры)</td>
                                                                            <td class="text-right">
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 3, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.CarpetWashing.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 3, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.CarpetWashing.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        <tr data-toggle="collapse" data-target="#demo1" class="accordion-toggle">
                                                                            <td class="text-center">9</td>
                                                                            <td><b>ЗП администратора (авто + ковры)</b></td>
                                                                            <td class="text-right"><b>  @Html.DisplayFor(model => model.SumWegesAdministrator) грн. </b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">9-1</td>
                                                                            <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП администратора мойки</a></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Washing.SalaryAdministrator) грн. </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">9-2</td>
                                                                            <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 3, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП администратора за услугу ковры</a></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.CarpetWashing.SalaryAdministrator) грн. </td>
                                                                        </tr>

                                                                        <tr data-toggle="collapse" data-target="#demo2" class="accordion-toggle">
                                                                            <td class="text-center">10</td>
                                                                            <td><b>ЗП автомойщиков (авто + ковры)</b></td>
                                                                            <td class="text-right"> <b> @Html.DisplayFor(model => model.SumWegesEmployees) грн. </b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">10-1</td>
                                                                            <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 5, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП сотрудника мойки</a></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Washing.SalaryEmployees) грн. </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">10-2</td>
                                                                            <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 6, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП сотрудника за услугу ковры </a></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.CarpetWashing.SalaryEmployees) грн. </td>
                                                                        </tr>

                                                                        @* ----------------------------------------------------------------------------------- *@

                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Детейлинг</b></td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Количество Авто</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Detailing.SumQuantitiesAndOrdersAwaitingPaymentQuantites) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewCash.completedOrders.Detailing.Quantities) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.Detailing.Quantities) шт.</td>
                                                                            <td class="text-right">  @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Detailing.OrdersAwaitingPaymentQuantites) шт</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Касса детейлинга</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 1, paymentState = 0, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Detailing.SumCashierAndOrdersAwaitingPaymentCashier)  грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 1, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.completedOrders.Detailing.Cashier)  грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 1, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.Detailing.Cashier)  грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 1,  paymentState = 0, statusOrder = 4, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.Detailing.OrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">3</td>
                                                                            <td class="text-success">Заказы за предыдущий период (количество)</td>
                                                                            <td class="text-right text-success">
                                                                            </td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.Detailing.OrderCount) шт.</td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.Detailing.OrderCount) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">4</td>
                                                                            <td class="text-success">Заказы за предыдущий период (касса)</td>
                                                                            <td class="text-right">
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.Detailing.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 2, paymentState = 4, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.Detailing.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">5</td>
                                                                            <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП администратора детейлинга</a></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Detailing.SalaryAdministrator) грн. </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">6</td>
                                                                            <td><a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>ЗП детейлинга</a></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.Detailing.SalaryEmployees) грн. </td>
                                                                        </tr>


                                                                        @* ----------------------------------------------------------------------------------- *@

                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Шиномантаж<b /> </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Количество заказов шиномонтажа</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireFitting.SumQuantitiesAndOrdersAwaitingPaymentQuantites) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewCash.completedOrders.TireFitting.Quantities) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.TireFitting.Quantities) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireFitting.OrdersAwaitingPaymentQuantites) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Касса шиномантаж</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 4, paymentState = 0, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireFitting.SumCashierAndOrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 4, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.completedOrders.TireFitting.Cashier) грн.
                                                                                </a>

                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 4, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.TireFitting.Cashier) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 4,  paymentState = 0, statusOrder = 4, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireFitting.OrdersAwaitingPaymentCashier) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">3</td>
                                                                            <td class="text-success">Заказы за предыдущий период (количество)</td>
                                                                            <td class="text-right text-success">
                                                                            </td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.TireFitting.OrderCount) шт.</td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.TireFitting.OrderCount) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">4</td>
                                                                            <td class="text-success">Заказы за предыдущий период (касса)</td>
                                                                            <td class="text-right">
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 4, paymentState = 1, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.TireFitting.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right text-success">
                                                                                <a class="link text-success" href=@Url.Action("../Analytics/DetailsAboutOrders", new { typeOrder = 4, paymentState = 2, start = @ViewBag.DateWhereStart, finlDate = @ViewBag.DateWhereFinal, type = 1 })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.TireFitting.OrderSum) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">5</td>
                                                                            <td>
                                                                                <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 9, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    ЗП администратора
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireFitting.SalaryAdministrator) грн. </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">6</td>
                                                                            <td>
                                                                                <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 10, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    ЗП Сотрудников
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireFitting.SalaryEmployees) грн. </td>
                                                                        </tr>

                                                                        @*--------------------------------------------------------------------------------------*@
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Хранение шин<b /> </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Количество заказов </td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireStorage.SumQuantitiesAndOrdersAwaitingPaymentQuantites) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewCash.completedOrders.TireStorage.Quantities) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.TireStorage.Quantities) шт.</td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireStorage.OrdersAwaitingPaymentQuantites) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Касса хранение шин</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireStorage.SumCashierAndOrdersAwaitingPaymentCashier) грн. </td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewCash.completedOrders.TireStorage.Cashier) грн. </td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewNoCash.completedOrders.TireStorage.Cashier) грн. </td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.completedOrders.TireStorage.OrdersAwaitingPaymentCashier) грн. </td>

                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">3</td>
                                                                            <td class="text-success">Заказы за предыдущий период (количество)</td>
                                                                            <td class="text-right text-success">
                                                                            </td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.TireStorage.OrderCount) шт.</td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.TireStorage.OrderCount) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">4</td>
                                                                            <td class="text-success">Заказы за предыдущий период (касса)</td>
                                                                            <td class="text-right text-success">
                                                                            </td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewCash.informationPreviousPeriod.TireStorage.OrderSum) грн. </td>
                                                                            <td class="text-right text-success">@Html.DisplayFor(model => model.analyticsViewNoCash.informationPreviousPeriod.TireStorage.OrderSum) грн. </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">7</td>
                                                                            <td>
                                                                                <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    ЗП администратора
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireStorage.SalaryAdministrator) грн. </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">8</td>
                                                                            <td>
                                                                                <a class="link" href=@Url.Action("../Analytics/WagesInfo", new { typeExpenses = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    ЗП Сотрудников
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.TireStorage.SalaryEmployees) грн. </td>
                                                                        </tr>

                                                                        @* ----------------------------------------------------------------------------------- *@

                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Дополнительно к заработной плате<b /> </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Премия</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.SumBonusTOSalary) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Ставка за день</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.wagesForCompletedOrders.SumEmployeeRate)  грн. </td>
                                                                        </tr>

                                                                        @* ----------------------------------------------------------------------------------- *@

                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Товары<b /> </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Количество проданных товаров</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewResult.saleOfGoods.CauntGoodsSold) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewCash.saleOfGoods.CauntGoodsSold) шт.</td>
                                                                            <td class="text-right">@Html.DisplayFor(model => model.analyticsViewNoCash.saleOfGoods.CauntGoodsSold) шт.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Касса проданных товаров</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/GoodsSoldInfo", new {  paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.saleOfGoods.SumGoodsSold)  грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/GoodsSoldInfo", new {  paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.saleOfGoods.SumGoodsSold)  грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/GoodsSoldInfo", new {  paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.saleOfGoods.SumGoodsSold)  грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td class="text-center">4</td>
                                                                            <td>ЗП администратора </td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.analyticsViewResult.saleOfGoods.SumWagesAdminstrator)  грн. </td>
                                                                        </tr>
                                                                        @* ----------------------------------------------------------------------------------- *@
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Дополнительный доход</b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Касса автодом</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new { category = "Касса автодом", paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.additionalIncome.CashierAvtomir) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса автодом", paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.additionalIncome.CashierAvtomir) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса автодом", paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.additionalIncome.CashierAvtomir) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">2</td>
                                                                            <td>Касса автомир</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса автомир", paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.additionalIncome.CashierCaravan) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса автомир", paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>

                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.additionalIncome.CashierCaravan) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса автомир", paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>

                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.additionalIncome.CashierCaravan) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">3</td>
                                                                            <td>Касса химчистка Колер</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса химчистка Колер", paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>

                                                                                    @Html.DisplayFor(model => model.analyticsViewResult.additionalIncome.CashierDryCleaningKohler) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса химчистка Колер", paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>

                                                                                    @Html.DisplayFor(model => model.analyticsViewCash.additionalIncome.CashierDryCleaningKohler) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/AdditionalIncomeInfo", new {  category = "Касса химчистка Колер", paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>

                                                                                    @Html.DisplayFor(model => model.analyticsViewNoCash.additionalIncome.CashierDryCleaningKohler) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        @* ----------------------------------------------------------------------------------- *@
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Расходы</b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Сумма всех расходов</td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = 0, paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Model.analyticsViewResult.expensesClassModels.Sum(s => s.Amount) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = 0, paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Model.analyticsViewCash.expensesClassModels.Sum(s => s.Amount) грн.
                                                                                </a>
                                                                            </td>
                                                                            <td class="text-right">
                                                                                <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = 0, paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                    @Model.analyticsViewNoCash.expensesClassModels.Sum(s => s.Amount) грн.
                                                                                </a>
                                                                            </td>
                                                                        </tr>

                                                                        @foreach (var item in Model.analyticsViewResult.expensesClassModels)
                                                                        {
                                                                            <tr>
                                                                                <td class="text-center">1</td>
                                                                                <td>@item.expenseCategoryName</td>
                                                                                <td class="text-right">
                                                                                    <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = item.expenseCategoryId, paymentState = 0, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                        @item.Amount грн.
                                                                                    </a>
                                                                                </td>

                                                                                @foreach (var itemCash in Model.analyticsViewCash.expensesClassModels)
                                                                                {
                                                                                    if (item.expenseCategoryId == itemCash.expenseCategoryId)
                                                                                    {
                                                                                        <td class="text-right">
                                                                                            <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = item.expenseCategoryId, paymentState = 1, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                                @itemCash.Amount грн.
                                                                                            </a>
                                                                                        </td>
                                                                                        break;
                                                                                    }
                                                                                }

                                                                                @foreach (var itemNoCash in Model.analyticsViewNoCash.expensesClassModels)
                                                                                {
                                                                                    if (item.expenseCategoryId == itemNoCash.expenseCategoryId)
                                                                                    {
                                                                                        <td class="text-right">
                                                                                            <a class="link" href=@Url.Action("../Analytics/ExpensesGroup", new {  typeExpenses = item.expenseCategoryId, paymentState = 2, dateStart = @ViewBag.DateWhereStart, dateFinal = @ViewBag.DateWhereFinal })>
                                                                                                @itemNoCash.Amount грн.
                                                                                            </a>
                                                                                        </td>
                                                                                        break;
                                                                                    }
                                                                                }
                                                                            </tr>
                                                                        }

                                                                        @* ----------------------------------------------------------------------------------- *@
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Касса начало дня</b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td>Начало дня</td>
                                                                            <td></td>
                                                                            <td class="text-right"> @Html.DisplayFor(model => model.cashStartOfTheDay) грн.</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Итого</b></td>
                                                                        </tr>
                                                                    </tbody>
                                                                    <thead>
                                                                        <tr>
                                                                            <th class="text-center">#</th>
                                                                            <th>Наименования</th>
                                                                            <th class="text-right">Итого</th>
                                                                            <th class="text-right">Наличные</th>
                                                                            <th class="text-right">Безналичные</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="text-center">1</td>
                                                                            <td></td>
                                                                            <td class="text-right"><b>@Html.DisplayFor(model => model.CashEndDay) грн.</b></td>
                                                                            <td class="text-right"><b>@Html.DisplayFor(model => model.CashEndDayCash) грн.</b></td>
                                                                            <td class="text-right"><b>@Html.DisplayFor(model => model.CashEndDayNoCash) грн.</b></td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td colspan="6" class="text-center"><b class="text-danger">Итого</b></td>
                                                                        </tr>

                                                                        @if (@ViewBag.CloseDay == true)
                                                                        {
                                                                            if (@ViewBag.Message = false)
                                                                            {
                                                                                <tr>
                                                                                    <td colspan="3" class="text-center"><b class="text-danger">* * *</b></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center">1</td>
                                                                                    <td>Сформировать кассу наличных на @ViewBag.Date </td>
                                                                                    <td>
                                                                                        <input type="number" name="amountStartDay" id="quantity" class="form-control" aria-label="Recipient's username" aria-describedby="basic-addon2" style="text-align: right">

                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                            else
                                                                            {
                                                                                <tr>
                                                                                    <td colspan="3" class="text-center"><b class="text-danger">* * *</b></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center">1</td>
                                                                                    <td>Сформировать кассу наличных на @ViewBag.Date </td>
                                                                                    <td>
                                                                                        <input type="number" name="amountStartDay" id="quantity" class="is-invalid form-control" placeholder="Обязательное поле для заполнения" aria-label="Recipient's username" aria-describedby="basic-addon2" style="text-align: right">

                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-12">
                                                            <div class="clearfix"></div>
                                                            <hr>
                                                            <div class="pull-right m-t-30 text-right">
                                                                <h3><b>Наличные остаток:</b>  @Model.SumTotal грн.</h3>

                                                                @if (@ViewBag.CloseDay == true)
                                                                {
                                                                    <h3><b>Отправить на счет фирмы:</b>  <span name="FinalDay" id="FinalDay"> 0</span> грн.</h3>
                                                                    <input type="hidden" id="amountFinalDay" value=@Html.DisplayFor(model => model.CashEndDayCash) name="amountFinalDay" />
                                                                    <h3><b>Касса наличных на @ViewBag.Date:</b><span name="errmsg" id="errmsg"> 0</span> грн.</h3>
                                                                    <input type="hidden" id="sumOrder" value="" name="sum" />
                                                                    <hr>
                                                                    <input class="btn btn-outline-secondary" type="submit" value="Закрыть день" id="click" onclick="this.disabled=true; this.value='Отправка, подождите ...'; this.form.submit();" />
                                                                    <hr>
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    }

                </div>


                <div class="modal-footer">
                    @* <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>*@
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $('#quantity').keyup(function () {
        var Value = $('#quantity').val();
        var sum =  @Model.CashEndDayCash - parseFloat(Value.replace(',', '.'));
        $('#errmsg').empty();
        $('#errmsg').text(Value);

        $('#FinalDay').empty();
        $('#FinalDay').text(sum);

        $('#amountFinalDay').empty();
        $('#amountFinalDay').text(sum);

         $('#sumOrder').empty();
        $('#sumOrder').val("newval");
    });
</script>
